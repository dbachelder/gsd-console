---
phase: 06-additional-ui-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [src/components/roadmap/PhaseRow.tsx, src/components/layout/TabLayout.tsx, src/components/phase/PhaseView.tsx]
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Progress bars have visual separation between rows"
    - "Phase tab content scrolls when long, footer stays fixed at bottom"
    - "Footer is always visible regardless of content length"
  artifacts:
    - path: "src/components/roadmap/PhaseRow.tsx"
      provides: "Phase row layout with spacing"
      contains: "marginBottom"
    - path: "src/components/layout/TabLayout.tsx"
      provides: "Scrollable content area with sticky footer"
      contains: "flexGrow={1}"
    - path: "src/components/phase/PhaseView.tsx"
      provides: "Scrollable phase content box"
      contains: "flexGrow"
  key_links:
    - from: "src/components/phase/PhaseView.tsx"
      to: "src/components/layout/TabLayout.tsx"
      via: "flexGrow prop chain"
      pattern: "flexGrow.*=.*1"
---

<objective>
Improve phase tab layout with scrollable content and progress bar spacing

Purpose: Enhance UI usability by making long phase content scrollable while keeping footer visible, and adding visual separation between progress bar rows
Output: Updated layout with better scrolling behavior and visual spacing
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@src/components/roadmap/PhaseRow.tsx
@src/components/layout/TabLayout.tsx
@src/components/phase/PhaseView.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add spacing between progress bars</name>
  <files>src/components/roadmap/PhaseRow.tsx</files>
  <action>
  Add marginBottom to the main Box component (line 49) to create visual separation between phase rows:

  Current (line 49):
  ```tsx
  <Box flexDirection="column" backgroundColor={highlightBg}>
  ```

  Change to:
  ```tsx
  <Box flexDirection="column" backgroundColor={highlightBg} marginBottom={1}>
  ```

  This adds 1 line of space between each phase row, making progress bars visually distinct from each other. Do NOT modify any other spacing in PhaseRow.
  </action>
  <verify>grep -A1 'flexDirection="column"' src/components/roadmap/PhaseRow.tsx | grep 'marginBottom={1}'</verify>
  <done>Progress bar rows have 1 line of vertical spacing between them</done>
</task>

<task type="auto">
  <name>Task 2: Make phase tab content scrollable with sticky footer</name>
  <files>src/components/layout/TabLayout.tsx, src/components/phase/PhaseView.tsx</files>
  <action>
  **TabLayout.tsx:**
  - Add flexGrow={1} to the active view content Box (line 167) to make it expand and scroll
  - Current: `<Box flexDirection="column">` (line 167)
  - Change to: `<Box flexDirection="column" flexGrow={1}>`

  **PhaseView.tsx:**
  - The bordered box containing phase content (lines 199-251) needs to be scrollable
  - Add flexGrow to the bordered box to let it expand within scrollable container
  - Current (line 199): `<Box flexDirection="column" borderStyle="single" paddingX={1}>`
  - Change to: `<Box flexDirection="column" borderStyle="single" paddingX={1} flexGrow={1}>`
  - Also remove the local hints section (lines 253-259) since it duplicates Footer hints

  The App.tsx already has correct structure (Header at top, TabLayout with flexGrow, Footer at bottom), so these changes enable scrolling while keeping footer fixed.
  </action>
  <verify>grep 'flexGrow.*1' src/components/layout/TabLayout.tsx && grep 'flexGrow' src/components/phase/PhaseView.tsx && ! grep -q 'Navigation hints' src/components/phase/PhaseView.tsx</verify>
  <done>Phase tab content scrolls within viewport, footer stays visible at bottom, local navigation hints removed</done>
</task>

</tasks>

<verification>
- Run `bun run dev` and navigate to a phase with long content (many requirements or success criteria)
- Press j/k to scroll through phase content - verify footer remains visible at bottom
- Press Tab 1 to view roadmap - verify progress bars have spacing between rows
- Press Tab 2 to return to phase - verify footer is always visible regardless of content length
</verification>

<success_criteria>
- Progress bars have 1 line spacing between each row
- Long phase content scrolls without pushing footer off screen
- Footer remains fixed at bottom of terminal during scrolling
- Local navigation hints removed from PhaseView (no duplication with Footer)
</success_criteria>

<output>
After completion, create `.planning/phases/06-additional-ui-polish/06-01-SUMMARY.md`
</output>
